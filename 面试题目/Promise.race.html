<script>
  let imagePromise = (url) => {
    return new Promise((resolve, reject) => {
      let image = new Image()
      image.src = url
      image.onload = function () {
        resolve(url)
      }
      image.onerror = function () {
        reject()
      }
    })
  }
  Promise.race([imagePromise(''), imagePromise('')])
    .then(console.log())
    .catch(console.log())
</script>