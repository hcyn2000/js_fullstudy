<script>
  const arr = [1, [2, [3, [4, 5]]], 6];

  function flat(arr) {
    return arr.reduce((acc, cur) => {
      console.log(acc, '--------');
      console.log(cur);
      return acc.concat(Array.isArray(cur) ? flat(cur) : cur)
    }, [])
  }
  console.log(flat(arr));
</script>